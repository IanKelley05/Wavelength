<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-width=1.0">
    <title>Wavelength Date Night</title>
    <style>
        :root {
            --primary: #ff4757;
            --secondary: #2ed573;
            --dark: #2f3542;
            --light: #f1f2f6;
        }
        
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark);
            color: var(--light);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background-color: #1e222b;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            box-shadow: 2px 0 10px rgba(0,0,0,0.5);
        }

        .sidebar h2 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 30px;
        }

        .nav-btn {
            background: none;
            border: 2px solid var(--primary);
            color: var(--light);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .nav-btn:hover, .nav-btn.active {
            background-color: var(--primary);
            color: white;
        }

        /* Main Content Styles */
        .content {
            flex-grow: 1;
            padding: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .page {
            display: none;
            text-align: center;
            width: 100%;
            max-width: 800px;
        }

        .page.active {
            display: block;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--secondary);
        }

        .btn-large {
            background-color: var(--secondary);
            color: var(--dark);
            border: none;
            padding: 20px 40px;
            font-size: 24px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
            transition: transform 0.2s, background-color 0.2s;
        }

        .btn-large:hover {
            transform: scale(1.05);
            background-color: #26b360;
        }

        /* Slot Machine Styles */
        .slot-machine {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 40px 0;
            background: #1e222b;
            padding: 30px;
            border-radius: 15px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
        }

        .window {
            width: 250px;
            height: 80px;
            background: white;
            color: black;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            font-size: 24px;
            font-weight: bold;
            border: 4px solid var(--primary);
        }

        .strip {
            position: absolute;
            width: 100%;
            display: flex;
            flex-direction: column;
            transition: transform 3s cubic-bezier(0.15, 0.85, 0.35, 1);
        }

        .strip-item {
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }

        .vs {
            font-size: 2rem;
            color: var(--primary);
            font-weight: bold;
        }

        .post-spin-actions {
            display: none;
            margin-top: 30px;
        }

        /* Dial Spinner Styles */
        .dial-container {
            position: relative;
            width: 400px;
            height: 200px;
            margin: 40px auto;
            overflow: hidden;
        }

        .dial-bg {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background: conic-gradient(from 270deg, #ff4757 0deg, #ffa502 45deg, #2ed573 90deg, #1e90ff 135deg, #9b59b6 180deg, transparent 180deg);
            position: absolute;
            top: 0;
            left: 0;
        }

        .dial-center {
            width: 50px;
            height: 50px;
            background: var(--light);
            border-radius: 50%;
            position: absolute;
            bottom: -25px;
            left: 175px;
            z-index: 10;
        }

        .needle {
            width: 4px;
            height: 180px;
            background: var(--dark);
            position: absolute;
            bottom: 0;
            left: 198px;
            transform-origin: bottom center;
            transform: rotate(-90deg); /* Start flat on the left */
            transition: transform 3s cubic-bezier(0.2, 0.8, 0.3, 1);
            z-index: 5;
        }

        .needle::after {
            content: '';
            position: absolute;
            top: 0;
            left: -8px;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 20px solid var(--dark);
        }

        #dial-result {
            font-size: 2rem;
            margin-top: 20px;
            height: 40px;
            color: var(--primary);
            font-weight: bold;
        }

    </style>
</head>
<body>

    <div class="sidebar">
        <h2>Wavelength</h2>
        <button class="nav-btn active" onclick="showPage('home')">Home</button>
        <button class="nav-btn" onclick="showPage('category')">Category Selector</button>
        <button class="nav-btn" onclick="showPage('dial')">Dial Spinner</button>
    </div>

    <div class="content">
        
        <div id="home" class="page active">
            <h1>Welcome to Wavelength! ❤️</h1>
            <p style="font-size: 1.2rem; margin-bottom: 40px;">Ready for our virtual date? Pick what you want to do first.</p>
            <button class="btn-large" onclick="showPage('category')">Pick a Category</button>
            <button class="btn-large" style="background-color: var(--primary); color: white;" onclick="showPage('dial')">Spin the Dial</button>
        </div>

        <div id="category" class="page">
            <h1>Category Selector</h1>
            
            <div class="slot-machine">
                <div class="window">
                    <div class="strip" id="left-strip"></div>
                </div>
                <div class="vs">VS</div>
                <div class="window">
                    <div class="strip" id="right-strip"></div>
                </div>
            </div>

            <button class="btn-large" id="spin-btn" onclick="spinCategories()">Spin!</button>

            <div class="post-spin-actions" id="post-spin-actions">
                <button class="btn-large" onclick="spinCategories()">Spin Again</button>
                <button class="btn-large" style="background-color: var(--primary); color: white;" onclick="showPage('dial')">Go to Dial</button>
            </div>
        </div>

        <div id="dial" class="page">
            <h1>The Target Dial</h1>
            <p>Spin to see where the target lands! (Percentage from left to right)</p>
            
            <div class="dial-container">
                <div class="dial-bg"></div>
                <div class="dial-center"></div>
                <div class="needle" id="needle"></div>
            </div>

            <button class="btn-large" onclick="spinDial()">Spin the Dial!</button>
            <div id="dial-result"></div>
        </div>

    </div>

    <script>
        // Data: Wavelength Categories
        const categories = [
            ["Hot", "Cold"], ["Hard", "Soft"], ["Underrated", "Overrated"], 
            ["Bad", "Good"], ["Ugly", "Beautiful"], ["Round", "Pointy"], 
            ["Boring", "Fascinating"], ["Smells Bad", "Smells Good"], 
            ["Useless", "Useful"], ["Sad", "Happy"], ["Weak", "Strong"],
            ["Dry", "Wet"], ["Tastes Bad", "Tastes Good"], ["Cheap", "Expensive"]
        ];

        // Navigation Logic
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(pageId).classList.add('active');
            
            // Highlight active sidebar button
            const buttons = document.querySelectorAll('.nav-btn');
            if(pageId === 'home') buttons[0].classList.add('active');
            if(pageId === 'category') buttons[1].classList.add('active');
            if(pageId === 'dial') buttons[2].classList.add('active');
        }

        // Category Spinner Logic
        function createStripItems(stripId, isReversed, targetWord) {
            const strip = document.getElementById(stripId);
            strip.innerHTML = '';
            strip.style.transition = 'none';
            
            // Number of dummy items to scroll through
            const numItems = 20; 
            const itemHeight = 80;

            let words = [];
            for(let i = 0; i < numItems - 1; i++) {
                // Pick random words for the blur effect
                let randomPair = categories[Math.floor(Math.random() * categories.length)];
                words.push(randomPair[Math.random() > 0.5 ? 0 : 1]);
            }
            
            // Place the target word at the end (or beginning if reversing)
            if (isReversed) {
                words.unshift(targetWord); // Target at the top
                strip.style.transform = `translateY(-${(numItems - 1) * itemHeight}px)`; // Start at the bottom
            } else {
                words.push(targetWord); // Target at the bottom
                strip.style.transform = `translateY(0px)`; // Start at the top
            }

            words.forEach(word => {
                const div = document.createElement('div');
                div.className = 'strip-item';
                div.innerText = word;
                strip.appendChild(div);
            });

            // Force a reflow so the browser registers the starting position before animating
            void strip.offsetWidth; 

            // Animate to the target
            strip.style.transition = 'transform 3s cubic-bezier(0.15, 0.85, 0.35, 1)';
            if (isReversed) {
                strip.style.transform = `translateY(0px)`; // Spin down to the top item
            } else {
                strip.style.transform = `translateY(-${(numItems - 1) * itemHeight}px)`; // Spin up to the bottom item
            }
        }

        function spinCategories() {
            document.getElementById('spin-btn').style.display = 'none';
            document.getElementById('post-spin-actions').style.display = 'none';

            // Pick a random category pair
            const pair = categories[Math.floor(Math.random() * categories.length)];
            
            // Left spins UP (target at bottom, starts at top)
            createStripItems('left-strip', false, pair[0]);
            
            // Right spins DOWN (target at top, starts at bottom)
            createStripItems('right-strip', true, pair[1]);

            // Show post-spin buttons after animation finishes
            setTimeout(() => {
                document.getElementById('post-spin-actions').style.display = 'block';
            }, 3000);
        }

        // Initialize empty strips
        document.getElementById('left-strip').innerHTML = '<div class="strip-item">???</div>';
        document.getElementById('right-strip').innerHTML = '<div class="strip-item">???</div>';

        // Dial Spinner Logic
        let currentRotation = -90; // Starts flat left

        function spinDial() {
            const needle = document.getElementById('needle');
            const resultText = document.getElementById('dial-result');
            
            resultText.innerText = 'Spinning...';
            
            // Calculate a random degree between -90 and 90 (180 degree semi circle)
            // Add extra full rotations (e.g., 360 * 3) for the spinning effect
            const extraSpins = 360 * 3; 
            const randomDegree = Math.floor(Math.random() * 181) - 90; 
            
            const targetRotation = currentRotation + extraSpins + (randomDegree - (currentRotation % 360));
            
            needle.style.transform = `rotate(${targetRotation}deg)`;
            currentRotation = targetRotation;

            // Calculate percentage based on the final resting angle
            const finalAngle = randomDegree + 90; // Convert -90 to 90 range into 0 to 180
            const percentage = Math.round((finalAngle / 180) * 100);

            setTimeout(() => {
                resultText.innerText = `Target is at ${percentage}%!`;
            }, 3000);
        }
    </script>
</body>
</html>